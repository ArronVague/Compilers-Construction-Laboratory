\documentclass{article}
\usepackage[UTF8]{ctex}
\usepackage{enumitem}
\usepackage{graphicx}
\usepackage{float}
\usepackage{subfigure}
\usepackage{amsmath,amsfonts}
\usepackage{hyperref}

\begin{document}
\sloppy % 解决中英文混排的断行问题

\title{编译实验心得报告}
\author{郑泓东 21311570}
\date{\today}

\maketitle

\section{编译器代码阅读技巧}
由于课程中的代码并不是由我们自己一步一步写出来的，而是由老师提供的，因此，代码中的各种结构体、函数等等，不是一时半会就能理解的。同时，由于课程实验的战线拉得比较长，而每个星期只有一节实验课，如果我们没有将课余时间分配给实验课得话，那么，上一星期才勉强看懂的代码，往往在下一星期就忘得一干二净了。

所以，我们需要一边看代码，一边做笔记。对于各种结构体，最好能画出它们的结构图，这样，我们在阅读代码的时候，就能更加清晰地知道它们之间的关系。对于各种函数，最好能写出它们的功能，这样，我们在阅读代码的时候，就能更加清晰地知道它们的作用。

\section{编译器代码编写调试心得}

\subsection{Makefile}
在实验过程中，我们需要不断地修改代码，然后编译运行，如果每次都手动输入编译命令，那么，效率会非常低。因此，我们需要学会使用 Makefile 来自动化编译运行的过程。而老师提供的 Makefile 文件往往只包含基本的编译命令。
在实验过程中，我们往往需要添加一些自己的编译命令，比如，添加对某个文件的测试等等。因此，我建议在实验开始之前，学习一下 Makefile 的简单用法。

\subsection{Git}
通过观察 Git 仓库的提交记录，我们可以清晰地看到每次提交的内容，这样，我们就可以更加方便地进行代码的回退。同时，我们也可以对比不同版本之间的代码。以 Lab 4 - 目标代码生成为例：编译输出的汇编代码往往是一大堆，如果我们想要找到修改的代码对输出的汇编代码的影响，无疑是大海捞针。而通过 Git，我们可以很方便地找到修改的代码，从而更加方便地进行调试。而多次使用 Git 提交代码，也能培养我们的代码规范意识。

\section{编译器代码改进想法}

\section{工具分享}

\subsection{适用于 Linux 的 Windows 子系统}

WSL2\footnote{WSL2: Windows Subsystem for Linux 2.}是 Windows 的一项功能，可用于在 Windows 计算机上运行 Linux 环境，而无需单独的虚拟机或双引导，旨在为希望同时使用 Windows 和 Linux 的开发人员提供无缝高效的体验。WSL2 相比于传统虚拟机的优势包括：
\begin{enumerate}
    \item 性能： WSL2 使用真实的 Linux 内核，而不是仿真，因此在性能方面表现更好。它通过轻量级的虚拟化技术（ Hyper-V 虚拟机）实现，因此在访问文件系统和运行 Linux 应用程序时具有更低的延迟。
    \item 集成度： WSL2允许在Windows上运行本机的 Linux 二进制文件，而无需进行任何修改。这意味着你可以直接在 Windows 终端或其他终端模拟器中运行 Linux 命令，而无需启动完整的虚拟机。
    \item 与 Windows 集成： WSL2 可以更好地集成到 Windows 生态系统中。例如，你可以通过 Windows 资源管理器访问 WSL2 文件系统，并且可以在 Windows 和 Linux 之间轻松复制粘贴文本。
\end{enumerate}

\subsection{Ubuntu 包管理工具}
aptitude 是 Ubuntu 的包管理工具，可以用来安装、卸载、更新软件包。aptitude 在处理软件包依赖关系时比 apt-get 更加智能。它能够提供更好的解决方案，以确保软件的安装和卸载不会破坏系统的稳定性。

\section{其他心得}
如有需要

\subsection{降低内核版本}
\href{https://blog.csdn.net/qq_49814035/article/details/116035670}{Ubuntu20.04 如何降低内核版本}

\subsection{/usr/bin/ld: cannot find -ly}
\href{https://github.com/ArronVague/Compilers-Construction-Laboratory/issues/1}{解决 linux /usr/bin/ld: connot find -ly 找不到 liby.a 的问题}

\section{课程建议}
我记得 Lab - 1 词法分析与语法分析的实验 PPT 上的编译命令是不编译 Tree.c 的。而实际操作中，编译命令应该带上 Tree.c。我猜是因为课程代码是基于完整的代码，挖出其中一部分，但又不好去掉 Tree.c 导致的。所以，建议在实验 PPT 上的编译命令中，都带上 Tree.c 的编译命令。


% 参考文献
\begin{thebibliography}{99}
    \bibitem{ref1} GUSLOVESMATH. \href{https://www.kaggle.com/code/guslovesmath/los-angeles-crime-data-quick-eda}{Los Angeles Crime Data Quick EDA}.
    \bibitem{ref2} ANDREI SAFRONOV. \href{https://www.kaggle.com/code/safronov00/crimesolver-predictor#2.-Clean-Data}{CrimeSolver Predictor}
\end{thebibliography}

\end{document}
